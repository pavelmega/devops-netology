# Git

## Новые алиасы для команд
В свежие версии git постоянно добавляются новые версии команд, чтобы разграничить функционал слишком перегруженных функционалом
1. [`git restore`](https://git-scm.com/docs/git-restore) - откат изменений файлов к версии последнего коммита, аналог `git checkout --` без дополнительных аргументов. `git restore --staged` - уберёт файл из подготовленного сотояния для коммита
2. [`git switch`](https://git-scm.com/docs/git-switch) - переключение веток, уконаправленный аналог `git checkout`. Можно как просто переключать, так сразу и создавать новую ветку `git switch -c <new-branch-name>`

## Базовые команды
### Общие (просмотр, работа с коммитами)
* `git commit --amend` - затереть предыдущий коммит слиянием с текущим (в локальной истории предыдущий останется)
* `git reflog` - отобразить локальную историю

### Работа с тэгами:
* `git tag` - список тэгов
* `git tag -a v0.0 -m 'init tag'` - создать аннотированный тэг
* `git tag v0.0` - создать легковесный тэг
* `git tag -a v0.0 9fceb02` - протегировать существующий коммит
* `git push <remote> --tags` - отправить в репозиторий тэг
* `git tag -d <tagname>` -  удалить локальный тэг
* `git push origin --delete <tagname>` - удалить тэг из удаленного репозитория

### Rebase
* `git switch rebase-branch` - переключаемся на ветку с изменениями
* `git rebase main` - выполняем перебазирование
* _optional_ при возникновении конфликтов гит сделает пометки в файлах, для продолжения предложит выполнить `git rebase --continue`
* `git switch main` - переключаемся на основную ветку
* `git merge rebase-branch` - выполняем слияние
* `git branch -d rebase-branch` - удаляем слитую ветку
* _optional_ нетипичный вариант ребейза `git rebase --onto main one-branch two-branch` - найти изменения `one-branch` относительно `two-branch` и применить их к ветке `main`