# Результат выполнения домашнего задания ["3.7. Компьютерные сети, лекция 2"](https://github.com/netology-code/sysadm-homeworks/tree/devsys10/03-sysadmin-07-net)

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

Ответ: в linux есть утилита `ip` для отображения сетевых интерфейсов необходимо выполнить `ip link`. В Windows аналогом является `ipconfig /all`.

2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

Ответ: Протокол для получения информации о соседнем устройстве [LLDP](https://en.wikipedia.org/wiki/Link_Layer_Discovery_Protocol). Утилита, в которой реализован данный протокол в linux `lldpd`.

3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Ответ: Технология [VLAN](https://en.wikipedia.org/wiki/VLAN). Пакет в linux `vlan`. Конфигурация хранится в файле `/etc/network/interfaces`:

```
auto eth0.1400
iface eth0.1400 inet static
        address 192.168.1.1
        netmask 255.255.255.0
        vlan_raw_device eth0
```
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

Ответ:
Подробное описание боундинга можно посмотреть в [Wiki Linuxfoundation](https://wiki.linuxfoundation.org/networking/bonding)

По умолчанию используется `balance-rr` (round robin). Возможные значения:
- `balance-rr` - балансировка по принципу [Round Robin](https://en.wikipedia.org/wiki/Round-robin_scheduling)       
- `active-backup` - если активный интерфейс выйлет из строя, трафик перенаправится на запасной.
- `balance-xor` - выбирается определенный интерфейс в соответствии с mac-адресом.
- `broadcast` - транслирование на всё интерфейсы
- `802.3ad` - динамическая агрегация по [802.3ad](https://en.wikipedia.org/wiki/Link_aggregation#802.3ad)
- `balance-tlb` - адаптивная балансировка в зависимости от нагрузки интерфейсов
- `balance-alb` - адаптивная балансировка, надстройка над `balance-tlb`, выполняется путём согласования `ARP`

Пример конфигурации `/etc/network/interfaces`:

```
auto bond0

iface bond0 inet static
    address 10.31.1.5
    netmask 255.255.255.0
    network 10.31.1.0
    gateway 10.31.1.254
    bond-slaves eth0 eth1
    bond-mode active-backup
    bond-miimon 100
    bond-downdelay 200
    bond-updelay 200
```
5. Сколько IP адресов в сети с маской `/29`?

Ответ:

Всего `8` адресов, `2` из них зарезервированы.

Сколько `/29` подсетей можно получить из сети с маской `/24`?

Ответ:

В сети с маской `/24` всего 256 адресов, таким образом получется, что можно получить `256/8 = 32` подсети с маской `/29`

Приведите несколько примеров `/29` подсетей внутри сети 10.10.10.0/24.

```
10.10.10.9/29
10.10.10.17/29
10.10.10.25/29
10.10.10.33/29
```
6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны `10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16` уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети

Ответ: Из оставшихся диапазонов есть доступный `100.64.0.0/10`, там можно взять целую сеть по маске `/26`, в которой `62` адреса `100.64.0.1 - 100.64.0.62`

7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

Ответ:
- Linux - воспользуемся `ip neigh`
```shell
# Вывести данные
ip neigh

# Очистить всё
ip neigh flush all

# Очистить определённый IP
ip neigh del <ip-address> lladdr <link-layer address> <device>
```

- Windows - воспользуемся `arp`
```shell
# Вывести данные
arp -a

# Очистить всё
arp -d *

# Очистить определённый IP
arp -d <ip-address>
```